<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}FOS JS Routing Bundle Demo{% endblock %}</title>
        {% block stylesheets %}{% endblock %}
    </head>
    <body>
        {% block body %}{% endblock %}
        {% block javascripts %}
            <script src="{{ asset('bundles/fosjsrouting/js/router.min.js') }}"></script>
            <script src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>
            <script>
                console.log(Object.keys(Routing.getRoutes()));

                let url = Routing.generate('data', {name: 'John'});

                fetch(url, {
                    method: 'POST',
                    body: JSON.stringify({lastname: "Doe"})
                })
                    .then(response => response.json())
                    .then(result => document.querySelector('p').append(result.who))
                ;
            </script>
        {% endblock %}
    </body>
</html>
